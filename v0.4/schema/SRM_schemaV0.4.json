{"$schema": "http://json-schema.org/draft-07/schema#",
	"definitions": {
		"userPara": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
							"name": {
								"title": "name",
								"description": "name of the property",
								"type": "string"
							},
							"description": {
								"title": "description",
								"description": "description of the property",
								"type": "string"
							},
							"value": {
								"title": "value",
								"description": "value of the property",
								"type": "string"
							},
							"unit": {
								"title": "unit",
								"description": "unit of the property",
								"type": "string"
							},
							"type": {
								"title": "unit",
								"description": "unit of the property",
								"type": "string",
								"enum": [
									"string",
									"number",
									"JSON",
									"XML",
									"bool",
									"other"
								]
							}
						},
				"required": [
					"name",
					"value",
					"type"
				]
			},
			"uniqueItems": true
		}
	},
	"type": "object",
	"properties": {
		"schemaName": {
			"title": "schemaName",
			"description": "This is the name of the file format (i.e. spectroData)",
			"type": "string",
			"const": "schemaSpectroData"
		},
		"schemaVersion": {
			"title": "schemaVersion",
			"description": "This is the version of the fileformat",
			"type": "string",
			"const": "0.4"
		},
		"schemaURL": {
			"title": "schemaURL",
			"description": "URL that points to the description of the schema",
			"type": "string",
			"const": "0.4"
		},
		"id": {
			"title": "id",
			"description": "unique identifier of the dataset (GUID, UUID,...)",
			"type": "string"
		},
		"title": {
			"title": "title",
			"description": "short title of the dataset",
			"type": "string"
		},
		"description": {
			"title": "description",
			"description": "description of the dataset",
			"type": "string"
		},
		"dataType": {
			"title": "type of the data set",
			"description": "type of data set: rawSRM is raw data (typically expressed in counts versus pixel positition) of the SRM, evaluatedSRM would be evaluated data generated by the SRM software",
			"type": "string",
			"enum": [
				"rawSRM",
				"evaluatedSRM",
				"postproceeded",
				"trial",
				"other"
			]
		},
		"relatedData": {
			"type": "array",
			"description": "relation to another dataset",
			"items": {
				"type": "object",
				"properties": {
							"id": {
								"title": "id",
								"description": "id of the related data set",
								"type": "string"
							},
							"title": {
								"title": "title",
								"description": "title of the related data set",
								"type": "string"
							},
							"description": {
								"title": "description",
								"description": "description of the related dataset",
								"type": "string"
							},
							"relationType": {
								"title": "relationType",
								"description": "relation towards a related data set",
								"type": "string",
								"enum": [
									"IsNewVersionOf",
									"IsPreviousVersionOf",
									"IsPartOf",
									"HasPart",
									"IsVariantFormOf",
									"IsOriginalFormOf",
									"IsIdenticalTo",
									"IsDerivedFrom",
									"IsContinuedBy",
									"Continues",
									"Obsoletes",
									"IsObsoletedBy",
									"IsSourceOf"
								]
							}
						},
				"required": [
					"id",
					"relationType"
				]
			},
			"uniqueItems": true
		},
		"rights": {
			"title": "rights",
			"description": "licence rights of the data",
			"type": "object",
			"properties": {
				"description": {
					"title": "description",
					"description": "description of the license rights",
					"type": "string"
				},
				"rightsIdentifier": {
					"title": "rightsIdentifier",
					"description": "Identifier of the rights (Example: CC-BY-3.0)",
					"type": "string"
				},				
			}
		},
		"SRMdevice": {
			"title": "SRMdevice",
			"description": "This is to describe the spectroradiometer device",
			"type": "object",
			"properties": {
				"id": {
					"title": "id",
					"description": "ID of the device, could be an UUID, GUID",
					"type": "string"
				},
				"name": {
					"title": "name",
					"description": "This is the name of the device",
					"type": "string"
				},
				"type": {
					"title": "type",
					"description": "This is the device type as defined by the manufactuer",
					"type": "string"
				},
				"category": {
					"title": "category",
					"description": "This is the device category (typically SRM)",
					"type": "string"
				},
				"description": {
					"title": "description",
					"description": "can be used for further description of the device",
					"type": "string"
				},
				"manufacturer": {
					"title": "manufacturer",
					"description": "manufacturer of the device",
					"type": "string"
				},
				"serialNumber": {
					"title": "serialNumber",
					"description": "serialNumber as defined by manufacturer",
					"type": "string"
				},
				"inventoryNumber": {
					"title": "inventoryNumber",
					"description": "Inventory Number as typically defined by user/owner",
					"type": "string"
				},
				"owner": {
					"title": "owner",
					"description": "owner of the SRM device",
					"type": "string"
				},
				"softwareName": {
					"title": "softwareName",
					"description": "Software of the spectroradiometer",
					"type": "string"
				},
				"softwareVersion": {
					"title": "softwareVersion",
					"description": "Software version of the spectroradiometer",
					"type": "string"
				},
				"firmwareVersion": {
					"title": "firmwareVersion",
					"description": "firmware of the spectroradiometer",
					"type": "string"
				},
				"comments": {
					"title": "comments",
					"description": "comments related to the device",
					"type": "string"
				},
				"referencePlaneSRM": {
					"title": "referencePlaneSRM",
					"description": "decription of the position of the reference plane",
					"type": "string"
				},
				"SRMType": {
					"title": "SRMType",
					"description": "The this is the kind of SRM in respect to the configuration",
					"type": "string",
					"enum": [
						"single-array",
						"single-scaninng",
						"double-neg",
						"double-pos",
						"other"
					]
				},
				"xScaleQuantity": {
					"title": "xScaleQuantity",
					"description": "defines the quantity of the xScale",
					"type": "string",
					"enum": [
						"wavelength",
						"frequency",
						"energy",
						"pixel",
						"other"
					]
				},
				"xScaleUnit": {
					"title": "xScaleUnit",
					"description": "Unit associated with the Xscale quantity (nm, Hz, s-1,) ",
					"type": "string"
				},
				"xScaleRangeMin": {
					"title": "xScaleRangeMin",
					"description": "Minimum wavelength range of the SRM",
					"type": "number"
				},
				"xScaleRangeMax": {
					"title": "xScaleRangeMax",
					"description": "Maximum wavelength range of the SRM",
					"type": "number"
				},
				"xScaleInterval": {
					"title": "xScaleInterval",
					"description": "wavelengthInterval. put value is 0 or negative if the interval is varying",
					"type": "number"
				},
				"spectralQuantity": {
					"title": "spectralQuantity",
					"description": "defines the spectral quantity",
					"type": "string",
					"enum": [
						"relative",
						"irradiance",
						"flux",
						"radiance",
						"intensity",
						"energy",
						"exposure",
						"counts",
						"other"
					]
				},
				"spectralUnit": {
					"title": "spectralUnit",
					"description": "spectral Unit associated with the quantity (W nm-1, mW m-2 nm-1, eV,...)",
					"type": "string"
				},
				"scans": {
					"title": "scans",
					"description": "defines the number of scans that where used to calculated the average value",
					"type": "number"
				},
				"configurationFile": {
					"title": "configurationFile",
					"description": "name (and event. path) of the configuration File",
					"type": "string"
				},
				"opticalBandwidth": {
					"title": "opticalBandwidth",
					"description": "average optical bandwidth expressed in the XScaleUnit",
					"type": "number"
				},
				"inputOptics": {
					"title": "inputOptics",
					"description": "input optics used for the devices",
					"type": "string"
				},
				"calibrations": {
					"title": "calibrations",
					"description": "Information about the calibration of the device",
					"type": "object",
					"properties": {
						"id": {
							"title": "ID",
							"description": "ID of the calibration",
							"type": "string"
						},
						"date": {
							"title": "date",
							"description": "date of the calibration",
							"type": "string"
						},
						"certificateNr": {
							"title": "certificateNr",
							"description": "calibration certificate number",
							"type": "string"
						},
						"file": {
							"title": "file",
							"description": "calibration file",
							"type": "string"
						},
						"institution": {
							"title": "institution",
							"description": "name of the calibration lab/institution",
							"type": "string"
						},
						"description": {
							"title": "description",
							"description": "description of the calibration",
							"type": "string"
						},
						"quantity": {
							"title": "quantity",
							"description": "quantity of the calibration",
							"type": "string"
						},
						"userPara": {
							"$ref": "#/definitions/userPara"
						}
					}
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"postProcessing": {
			"title": "postProcessing",
			"description": "This is to describe postProcessing of the Data",
			"type": "object",
			"properties": {
				"softwareName": {
					"title": "softwareName",
					"description": "name of the software used for the postprocessing",
					"type": "string"
				},
				"softwareVersion": {
					"title": "softwareVersion",
					"description": "version of the software used for postprocessing",
					"type": "string"
				},
				"softwareURL": {
					"title": "softwareURL",
					"description": "URL of the software used for postprocessing",
					"type": "string"
				},
				"id": {
					"title": "id",
					"description": "id of the postProcessing (UUID, GUID,...)",
					"type": "string"
				},
				"description": {
					"title": "description",
					"description": "description of the postprocessing",
					"type": "string"
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"assignment": {
			"title": "assignment",
			"description": "Information about the assignment of the measurement data",
			"type": "object",
			"properties": {
				"customerName": {
					"title": "customerName",
					"description": "name of the customer",
					"type": "string"
				},
				"projectName": {
					"title": "projectName",
					"description": "name of the project",
					"type": "string"
				},
				"projectID": {
					"title": "projectID",
					"description": "ID of the project",
					"type": "string"
				},				
				"taskName": {
					"title": "taskName",
					"description": "name of the task within a project or a mandate",
					"type": "string"
				},
				"taskID": {
					"title": "taskID",
					"description": "ID of the task within a project or a mandate",
					"type": "string"
				},
				"comment": {
					"title": "comment",
					"description": "any comment that could be useful",
					"type": "string"
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"measurementConditions": {
			"title": "measurementConditions",
			"description": "Information about the measurement conditions",
			"type": "object",
			"properties": {
				"name": {
					"title": "name",
					"description": "name measurement setup",
					"type": "string"
				},
				"id": {
					"title": "id",
					"description": "ID of measurement setup",
					"type": "string"
				},				
				"version": {
					"title": "version",
					"description": "version of measurement setup",
					"type": "string"
				},				
				"institution": {
					"title": "institution",
					"description": "institution of measurement setup",
					"type": "string"
				},				
				"comment": {
					"title": "comment",
					"description": "any comment",
					"type": "string"
				},
				"ambientTemperature": {
					"title": "ambientTemperature",
					"description": "ambient temperature during measurement, expressed in °C",
					"type": "number"
				},
				"ambientRelHumidity": {
					"title": "ambientRelHumidity",
					"description": "relative ambient humidity during measurement, expressed in %",
					"type": "number"
				},
				"temperatureDevice": {
					"title": "temperatureDevice",
					"description": "temperature of the device, expressed in °C",
					"type": "number"
				},
				"measurementDistance": {
					"title": "measurementDistance",
					"description": "measurement distance between reference plane of the device under test and the detector, expressed in m",
					"type": "number"
				},
				"operator": {
					"title": "operator",
					"description": "name of the operator",
					"type": "object",
					"properties":{
						"name": {
							"title": "name",
							"description": "name of the operator",
							"type": "string"
						},
						"affiliation": {
							"title": "affiliation",
							"description": "affiliation of the operator",
							"type": "string"
						}
					}
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"DUT": {
			"title": "DUT",
			"description": "Information about the measurement conditions",
			"type": "object",
			"properties": {
				"id": {
					"title": "id",
					"description": "id of the device under test",
					"type": "string"
				},
				"name": {
					"title": "name",
					"description": "name of the device under test (lampe, sample, etc)",
					"type": "string"
				},
				"type": {
					"title": "type",
					"description": "This is the type as defined by the manufactuer",
					"type": "string"
				},
				"category": {
					"title": "category",
					"description": "category of the DUT",
					"type": "string"
				},
				"description": {
					"title": "description",
					"description": "can be used for further description of the device under test",
					"type": "string"
				},
				"manufacturer": {
					"title": "manufacturer",
					"description": "manufacturer of the device under test",
					"type": "string"
				},
				"serialNumber": {
					"title": "serialNumber",
					"description": "serialNumber as defined by manufacturer",
					"type": "string"
				},
				"inventoryNumber": {
					"title": "inventoryNumber",
					"description": "Inventory Number as typically defined by user/owner",
					"type": "string"
				},
				"owner": {
					"title": "owner",
					"description": "owner of the device under test",
					"type": "string"
				},
				"referencePlaneDUT": {
					"title": "referencePlaneDUT",
					"description": "decription of the position of the reference plane/point of the device under test",
					"type": "string"
				},
				"comment": {
					"title": "comment",
					"description": "any comments on the device under test",
					"type": "string"
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"dataSummary": {
			"title": "dataSummary",
			"description": "description of the data summary",
			"type": "object",
			"properties": {
				"measurementFile": {
					"title": "measurementFile",
					"description": "orginal filename generated by the device software",
					"type": "string"
				},
				"dateTimeISO": {
					"title": "dateTimeISO",
					"description": "date and time of the measurement expressed accoring ISO",
					"type": "string"
				},
				"comments": {
					"title": "comments",
					"description": "comments on the measurements",
					"type": "string"
				},
				"userPara": {
					"$ref": "#/definitions/userPara"
				}
			}
		},
		"data": {
			"title": "data",
			"type": "array",
			"description": "spectral data",
			"items": {
				"type": "object",
				"properties": {
					"xScaleValue": {
						"title": "xScaleValue",
						"description": "xScaleValue of the data (i.e. wavelenth value)",
						"type": "number"
					},
					"spectralValue": {
						"title": "spectralValue",
						"description": "Spectral values of the data",
						"type": "number"
					},
					"StdDev": {
						"title": "StdDev",
						"description": "standard deviation of the average value if severals scans were made",
						"type": "number"
					},
					"Unc": {
						"title": "Unc",
						"description": "Expanded absolute uncertainty (about 95% confidence interval, k=2)",
						"type": "number"
					},
					"userPara": {
						"$ref": "#/definitions/userPara"
				}

				}
			}
		},
		"corrCoeffs": {
			"title": "corrCoeffs",
			"type": "array",
			"description": "correlation coefficient",
			"items": {
				"type": "array",
				"items": {
					"title": "corrCoeffs",
					"description": "spectral data",
					"type": "number"
				}
			}
		}
	},
	"required": [
		"schemaName",
		"schemaVersion",
		"id",
	]
}
